

### Aggregate Operator(합산하는 operator)

관계대수에서는 COUNT같은 자체기능이 없었지만 SQL오면서 확장된 개념이다!!

<img src="C:\Users\user\Desktop\md\(윤영)데이터베이스\201106_fri\201106_1.png" alt="image-20201206211334651" style="zoom:67%;" /> 

여기서 SELECT S.sname, MAX(s.age) FROM Sailors S ==> 라는건 안된다. 이건 잘못된 쿼리다.이 2개의 칼럼은  서로에게 상관이없는 칼럼인데

이렇게 상관없는 칼럼끼리 붙이면 안된다.

그래서 우린 GROUP BY 를 배울것이다.

<img src="C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20201206212541602.png" alt="image-20201206212541602" style="zoom:67%;" /> 

#### GROUP BY :비슷한 성질을 가진 레코드들끼리 묶어서 묶은애들끼리 연산하는것

#### HAVING : GROUP BY를 할때 특성을 명시해주는것이 HAVING이다.

#### (group자체에 대한 특성은 having절에서 표현한다 (예) count(*)>1 같은것들...)

참고> (qualifying)tuples 의미 : where절을 충족하는 모든튜플들.



우리가 이제 group을 지은다음에 그룹별로 연산을 하고싶은 경우가 있을것이다!!

Consider : Find the age of the youngest sailor for each rating level ==> 레벨별로 가장 나이가 어린 sailors들을 뽑아달라.

우리가 GROUP BY라는 존재를 모를때는 우리가 어떻게 해야하는가?

: rating이 만약 100개 라고 하면은 그러면 원래대로라면 sql을 100개써야 하는거다. 여기서 GROUP BY를 쓰게 되면 훨씬 편해질것이다.

<img src="C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20201206213248809.png" alt="image-20201206213248809" style="zoom:67%;" /> 

HAVING group-qualification => 그룹에서 조건이 맞는애들끼리 그룹하게 한다.

attribute list는 grouping list의 부분집합이여야한다.

그리고 이런 attribute들은 반드시 하나의 값만 그룹별로 가지고 있어야한다. 

그룹은 튜플들의 셋인데 어떤특정한 attribute에 대해서 동일한 값을 가지고 있는애들끼리 묶인다.



주의할점 > select을 최종적으로뽑을때가 문제인데 select절에 있는 attribute list들에 해당하는 그 칼럼들은 HAVING절조건에 등장하거나 아니면 AGGREGATION에 argument로 들어가야한다. 

<img src="C:\Users\user\Desktop\md\(윤영)데이터베이스\201106_fri\201106_2.png" alt="image-20201206215709370" style="zoom:67%;" /> rating별로 가장 어린 sailors들의 age를 보여달라~!!

여기서 rating별로 보여달라는게 뭔가!?

: rating별로 보여달라는것의 의미는 group by s.rating이 될것이다.



Conceptual한 순서가 보여집니까? 우리가 sql할때도 마찬가지였다. Conceptual하는게 왜 중요한가? 중첩할때 이중,삼중 루프를 돌면서 중첩문을 들여댜 봐야하는데 하나씩 하나씩 중첩문에 있는결과와 비교를 해가면서 추려냈었따 where절에서.



33분> 

##### 시험문제 예시>

 포지션별로 연봉이 제일 높은 사람은??





1시 1분부터 필기함

peer들이 여러대 있다.

데이터를 어떻게,어디에 분산배치하고 어떻게 찾을까?

NOSQL(Not Only SQL)

우리가 질의를 하면은 그냥 DB에 질의할수있는 클라이언트를 가지고 DBMS가 서버인데 서버주소에 연결을 해서 서버로부터 질의결과를 받는다!!

근데 promatic하게 한다는거는 이런게 아니라 자바나 C나 C++이나 파이썬이나 JS같은 그 프로그램상에서 질의를 하는거다. 