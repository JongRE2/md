## 교재 : 데이터베이스 시스템 제3판

## 퀴즈는 예고하지않고 여러형태로 낸다.(퀴즈를 아침에 시작하고 내고, 끝나기 10분전에 낼수도있음. 퀴즈가 몇번나갈지도 모름)



DBMS의 원리 : 데이터베이스를 독립시키자는 이야기다. 응용프로그램1이 작업을 수행한다음에 이 수행한 내용을 응용1이  저장하게 하지말고 응용1이 입력한 데이터를 DBMS가 받아서 데이터베이스에다가 저장하는 역할을 한다. 그리고 응용프로그램들이 원하는 데이터를 요청할때 DBMS가 데이터베이스에서 그 데이터들을 찾아서 자기가 받은다음에 해당되는 응용프로그램들한테 보내준다.

DBMS의 대표적인 프로그램 예> 오라클,MySQL(리눅스계열많이쓸때),마이크로소프트 SQL Server(윈도우계열많이쓸때) 

<img src="C:\Users\kjy59\AppData\Roaming\Typora\typora-user-images\image-20200922162102177.png" alt="image-20200922162102177" style="zoom:50%;" />  DBMS의 목적 : 데이터들을 프로그램으로부터 독립시키게 하는거다.

어떠 특정프로그램에만 데이터가 종속되면 DBMS가 의미가 없다.



DBA(데이터베이스 adminstrator=얘는 it전문가) : 데이터베이스를 구축,관리하고 보안에 관한것에 대한것도 일하는 사람(DA가 설계해서 넘겨주면 실제 DBMS프로그램(mysql등등)을 가지고 DA가 짜준 설계도를 가지고 DBMS를 이용해서 DB를 구축하고 실제 컴퓨터에 저장된 DBMS를 관리하는 사람이 DBA이다.)

DA(Data Administrator=업무프로세스에 능한사람 ) :  필요한 데이터를 설계하는 사람.(얘는 DBMS같은거 몰라도 된다.)(은행에서 필요한 어떤 데이터가 필요하고 어떤게 가공되고 이런걸 설계. )

응용프로그램을 개발하려고 할때 그 응용프로그램을 만들때  어떤 데이터베이스가 있고 어떠한 구조로 데이터를 만들어야되는지를 DBA가 다 설계하고 구축해서 만든 구조를  응용프로그래머한테 넘겨주게 되는거임.



### 스키마 : 데이터베이스(테이블들)의 전체적인 구조(제약조건).

스키마는 conceptual ,external, internal schema 이렇게 3개가 있다.

conceptual schema(=일반적으로 말하는 '스키마') : 전체적인 구조(예> 새로운 아파트단지에 몇세대가 들어올꺼고 면적은 얼마나 될것이고 출입구는 어디에다가 둘꺼고 어디에다가 몇평대를 둘건지 등)

[전체적인 직원테이블의 스키마의 이미지 ]

![image-20200922225953330](C:\Users\kjy59\AppData\Roaming\Typora\typora-user-images\image-20200922225953330.png)



external schema(=(외부)뷰=서브 스키마) :  사용자들에게 보여지는 데이터베이스 구조.(예> 모델하우스)

[사용자가 만약에 직원테이블에서 이름,부서정보만 보고싶다고 할때 사용자가 보고있는 이미지 뷰]

![image-20200922230258497](C:\Users\kjy59\AppData\Roaming\Typora\typora-user-images\image-20200922230258497.png)



internal schema(물리적 구조임) : 개념스키마가 실제 내부적으로 저장되는 데이터베이스구조.(에> 실제 한 아파트평수 설계도를 의미. 실제 벽두께는 얼마로 할꺼고 벽안의 배선은 어떻게 되어있고 등)

![image-20200922230012902](C:\Users\kjy59\AppData\Roaming\Typora\typora-user-images\image-20200922230012902.png)

-------------------



<img src="C:\Users\kjy59\AppData\Roaming\Typora\typora-user-images\image-20200922225735685.png" alt="image-20200922225735685" style="zoom:50%;" />



###  SQL(Structured Query Language) : '관계형 DBMS(RDBMS)'에서, DBMS의 데이터를 조회, 수정, 삭제 등 조작하는데 사용되는 언어.

#### NoSQL(Not Only SQL) :   비관계형, 분산 데이터 베이스들이 등장했고 NoSQL이라는 용어가 보편적으로 사용되었습니다.

(예> 몽고DB)

NoSQL 데이터베이스의 특징을 살펴보면, 기존의 관계형 데이터베이스 보다 더 융통성 있는 데이터 모델을 사용하고, 데이터의 저장 및 검색을 위한 특화된 매커니즘을 제공합니다.
이를 통해 NoSQL 데이터베이스는 단순 검색 및 추가 작업에 있어서 매우 최적화된 키 값 저장 기법을 사용하여, 응답속도나, 처리 효율 등에 있어서 매우 뛰어난 성능을 나타냅니다. 이 특징들을 요약해보면 기존 관계형 데이터베이스와 다음과 같은 차이점을 보입니다.

\- 관계형 모델을 사용하지 않으며 테이블간의 조인 기능 없음
\- 직접 프로그래밍을 하는 등의 비SQL 인터페이스를 통한 데이터 액세스
\- 대부분 여러 대의 데이터베이스 서버를 묶어서(클러스터링) 하나의 데이터베이스를 구성
\- 관계형 데이터베이스에서는 지원하는 Data처리 완결성(Transaction ACID 지원) 미보장
\- 데이터의 스키마와 속성들을 다양하게 수용 및 동적 정의 (Schema-less)
\- 데이터베이스의 중단 없는 서비스와 자동 복구 기능지원
\- 다수가 Open Source로 제공
\- 확장성, 가용성, 높은 성능

설명드린 용어들이 다소 어렵습니다만, 정리해보면, NoSQL은 초고용량 데이터 처리 등 성능에 특화된 목적을 위해, 비관계형 데이터 저장소에, 비구조적인 데이터를 저장하기 위한 분산 저장 시스템이라고 볼 수 있습니다.



자바사용!!!

자바 대표적인 IDE = 이클립스,인텔리제이 =>자바를 쓰므로 jdbc를 사용한다.

마리아DB도 그렇고 오라클도 그렇고 jdbc라이브러리를 다 제공한다!!



### 수업진도내용.

#### 1. 데이터가 실제로 어떻게 저장되는지 그리고 메모리에 또 올라올때 어떤 인덱스구조로 저장이 되는지, 이부분을 좀 볼꺼다.



#### 2. ★★스키마(데이터베이스(테이블들)의 구조)를 어떻게 정규화할것인가



##### =>★★정규화하는게 굉장히 중요하다. 왜냐하면 테이블을 제대로 만들지 않으면은 업데이트,delete 등을 할때 오류가 발생할수있다. 그래서 정규화 과정을 하는것이다. 그리고나서 이제 보안,권한관리 등 이런관리들을 후반부에 배울것임.





정보를 어떻게 <u>**관계대수**</u> 로 표현할것인가 그 <u>**관계대수**</u> 를 잘 이해를 하면은 sql(=씨퀄) 즉, 데이터베이스에서 데이터를 질의하는 그러한 문장들을 만들수있다.

4장에! 관계대수랑 관계해석 이 있는데 ' <u>**관계대수**</u>' 만 할것이다.

#####  <u>**단지 관계대수와 관계해석은 표현의 차이다.**</u> 단지 그냥 표현의 차이다. 추상적으로 내가 뭔가 관계에 대해서 질의를 할때 그 질의를 표현하는 방식이 관계대수와 관계해석이 있는것이다.



5장. SQL(db에 어떻게 질의를 할것인지.) 이부분 미리 공부해도 좋다!!!!!!!!

마리아DB





vm에다가 웹서버만드는 방법이 있는데 이게 까다로운게 vm하고 로컬머신(내컴퓨터)하고 통신하는게 어렵다. 그래서 작년에는 ec2를 했었다. ec2를 하면은 퍼블릭address가 주어지기때문에 접근하는게 좋다.



46분> 어떤학생의 질문에 대한 대답.

DBMS가 DB의 서버로 운영될수있다. 여러 클라이언트들의 요청을 처리하는 서버로서 역할을 할수있다. 그런데 그 서버이론에서 ~학생이 물어보는게 어떤 의미인지는 잘모르겠지만 예컨데 보안,권한설정 등 요런것도 서버에서 우리가 다뤄야하는 부분이다. 그렇니깐 DB서버를 사용하는 클라이언트들이 있을때 어떤 클라이언트들은 접속을 하게 authentication을 해주고 어떤부분은 다룰수있게 authorization하는 그런 권한설정도 있다.

근데 이런 여러 cuncurrent한 처리들이 들어왔을때에 그런부분들을 아예 다루지않는다!!!

그러니깐 동접자들 그런걸 어떻게 할꺼냐? 이런거보다는 데이터를 어떻게 정의를 하고 관리하고 질의를 잘하고 빨리빨리 질의가 되고 또 필요없는 레코드는 delete를 할때, 이때 어떻게 효율적으로 할것인지를 배울것이다!!





### <u>우리가 거대한 시스템을 만들때에는 프로그램상에서 db에 접근을 하고 그다음에 db에 접속을 해서 연결을 한 후에 그다음 데이터를 긁어오는 이런것들을 배워야 한다. 어떻게 하냐면!?</u>

그냥 라이브러리 갖다가 링크하고 그냥 그 api에 따라서 받아오면 된다.+작년에는 그거에 더해서 이거를 외부로 했다. 앞에 프론트앤드웹브라우저상으로 UI가 있으면 거기다가 필드를 몇개 만들어서 그 필드에 따라서 쿼리문을 내부적으로 만든다음에 그 쿼리를 던져가지고 서버에서 받아서 그걸 처리하게할수있게 하는 nodejs를 실습했었다!!

(이번에는 aws(ec2)를 쓸지 안쓸지는 학과의 상황에 따라서 결정될것이다.)





### 우리가 데이터베이스수업에서 배울내용들!!!

##### ★★★Relational databases and queries :  결국 정보라는것은 entity들의 모임이고 그 엔티티간의 관계를 맺는거다. 그 관계에대해 질의를 우리가 할수있다. 그러면 요 관계에 따라서 우리가 테이블의 구조를 잡는거다. 그때 이 테이블의 구조를 schema라고한다!!!



### Transactions : Transactions은 atomic해야한다? Transcations이라는것은 일련의 tasks를 수행함에 있어서 그 tasks가 방해 받지 말아야 한다는게 atomic(원소=깨질수없는존재) 하다는 의미다.



각 task가 독립적이어야한다? 이렇게 말할수도있는데 제일 핵심은 다른사람이 interrupt할수 없는거를 의미한다. 그러니깐 내가 읽고쓰고읽고쓰는것을 계속하는 이런 임의의 transaction이 있다고 해보자. 

##### ★★★Transcation이 뭐냐면은? 일련의 어떤 DBMS수행과정이다. 그 과정이 누구에 의해서도 interrupt되어서는 안된다! 한번했으면 끝날때까지가고, 아니면 아예하지말아야한다는것이 atomic한 Transcation이다!!



만약 이렇게 하지않으면은 문제가 발생한다.

(1시 2분 // 우리가 이번에 배울내용 목차페이지임.)

concurrency : 이부분은 우리가 자세하게 다루진않을꺼다 그렇지만 cuncurrent하게 들어와서 데이터를 쓰고 읽는 과정에서 내가 공통의 데이터를 쓰고 읽을때 그때 자칫잘못하면은 오염될수있다. 그걸 방지하기위해서는 동적으로 막 계속 들어오고 병행처리가 이루어지지만 그것을 순서를 딱딱 맞춰야지 데이터가 오염되지않는다. 그래서 이 dbms의 수행과정은 transactional해야 한다. 또는 transaction은 atomic해야된다 라는 말이다.





Outline of the textbook



1. Database design and application (ch2,3,6,7,19,20,&21)
   어떻게 데이터베이스(=데이터의 모임) 를 디자인,설계할것인가 이것을 초반에 집중적으로 할것임.

2. Data analysis(ch4,5)

   데이터 분석을 하는데에 있어서 데이터관계들을 어떻게 표현을 할거냐,어떻게 질의를 할꺼냐 인 데이터분석이 있다.

3. Concurrency and Robustness(ch16,17&20 / 일부만볼꺼임)

4.  Efficiency and Scalability(일부만)

3,4==> 데이터가 주어졌을때 인덱싱이 어떻게 되야 가장좋은지, 어떤자료구조를 가지고 메모리에 올리는게 좋을까,파일에다가 어떻게 저장해야할까 등의 이런부분들을 볼것이다.

(DB실무에서!!! 수많은 사람들이 들어오는 디비서버를 관리하는 입장에서 어떻게하면 인덱스를 잘 가져서 디비가 들어오면은 최대한 빨리 처리하는 기술이 제일 중요할것이다!)





## 데이터베이스란?

데이터들의 모음이다!!(엔티티와 엔티티들의 관계가 저장된 집합)

entity:

우리가 실제 객체(entity)들을 모델링할수있다. 객체의 예를들어보자. 학사관리시스템이라는것이 있을때 entity는 과목,학생 이런것들이 될것이다.

relationship :

예> 마돈나가 CS564과목을 듣는다.=> 마돈나와 CS564와의 관계를 만드는것.

===> 이 2개까지가 DB내용이다.

## DBMS란??

데이터베이스를 저장하고 관리하고 또 이걸 활용할수있게 해주는 소프트웨어들의 모음을 DBMS라고 한다.(DB집합을 디스크에도 저장을  하고 필요하면 메모리에 인덱싱해서 올리고 (이 집합들을 잘저장하고) 그래서 질의를 잘 처리할수있게 해주는 그 시스템을 DBMS라고 한다. )



## Files VS DBMS

DBMS는 관계를 표현하기위한목적이 크다.

파일을 쓰면은 우리들만의 방식으로 질의를 해야한다. 이 2개의 차이점은 표준인 방식이냐 아니냐의 차이인거다.

DBMS는 'SQL이라는 표준문법' 을 바탕으로 질의를 할수있게 해주는게 큰 장점이다.

==> 많은양의 데이터를 다룰때는 DBMS 다루는게 훨씬 효율적이게 된다.

### DBMS는 뭘 제공,명시할수가 있는가!?

==> 스키마를 명시(정의)할수있다! 이말은 즉슨 테이블이 어떻게 생겨먹었는지를 얘기할수있다. 그래서 우리는 테이블이 어떻게 생겨먹었는지를 볼수가 있다. 그리고 테이블에 들어가 있는 자료들이 레코드라고 하는데 그 레코드와 다른 테이블에 있는 레코드간의 관계가 어떤지를 우리가 가늠해볼수가 있다. 그래서 우리는 표준문법인 SQL을 이용해서 질의를 할수가 있다.



### DBMS를 왜 쓰는가?

1.  내가 그냥 SQL문이라는 표준이 있고 하니 뭔가 질의를 할때 별도로 코드를 개발하는 시간을 줄일수가 있다.
2. Data independence and efficient access(이건 나중에 설명해줄꺼임)
3. Data integrity and security를 보장해줌
4. Uniform data administration
5. Concurrent access, recovery from crashes



relation은 테이블로 표현이 된다.(쉽게 얘기해서 relation이 곧 '테이블(=관계들의 모음)' 이다.)

그 관계들의 모음은 도대체 어떤구조를 가지고 있는지에 대해서 우리가 모델링을 할수가 있다.



### 데이터베이스의 구체적인예

예시로 **'대학 DB'**에 대해

Conceptual schema:

student( sid: string,name:string, login:string, age:integer,gpa:real)

Courses(cid:string, cname:string, credits:integer)

Enrolled(sid:string, cid:string, grade:string)

(student,Courses,Enrolled 이 3개가 각각 테이블이 된다.)



Physical schema:

 Relations stored as unordered files.

Index on first column of Students.

External Schema(view):

Course_info(cid:string,enrollment:integer)



----

lon stoica-DHT(chord)  / spark(In memory Hadoop)

우리나라의 인메모리에서 DB관리하는 회사 : 알티베이스(AHibase)

1시간 37분 50초에 학생질문





