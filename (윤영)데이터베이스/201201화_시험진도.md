![201201_1](.\201201화요일\201201_1.jpg)



(참고> escape sequence : \ , ' ,  " 이런것들을 이렇게 부른다~~)!!!



51분 보안내용 설명>

SQL Injection Attack을 하려고 이 동영상의 해커는 hamm 뒤에 일부러 /를 붙여서 hamm/라고 입력을 했다. 그래서 일반적인 경우는해머 라는 키워드가 있을때 내가 escape sequence가 있는지 제대로 파싱을 안하고 그대로 그대로 그 데이터를 쿼리에다가 박아넣는다. 그러면 그대로 그 데이터를 쿼리에다가 넣어서 입력할때 그 쿼리문은 잘못된 쿼리문이 되어서 그래서 DB시스템에러가 return 된다. 그러면 이 return되는 시스템에러메시지를 보고 '어? mysql인가?, mariaDB인가?'라고 판단해져서 해커에게 정보를 흘려주게 되버린다.

그래서!! 우리는 파씽을 제대로 안하고 어떤 데이터포맷을 쓸지에 대해서 구체적으로 그 파씽규칙을 안쓰면 이런일을 당하게 된다는게 핵심이다.

NULL formed 쿼리문이 되게 일부로 박아 넣어서 해커는 시스템의 유형부터 파악하는거다.

시스템에러가 나오니깐 이제 공격을 시작한다는건데 이 사람이 얘끼하는거는 single quote가  들어오면은 이걸 쿼리문의 키워드로 받아들이라는거다. escape sequence로 char을 만들어서 넣으라는거다. 그러면은 만약에 /(슬래시), ' 를 넣게되면은 그거자체가 product name인가보다 하게 된다. 그렇게해서 결과가 없습니다!! 라고 보여주는게 보안적으로 낫는거다.



1시 1분.

쿼리문 입력에 '%hammer' AND 1=SLEEP(2);-- 를 입력해서 이 문법이 작동하나확인해서 작동하면은 mySQL이구나? 라고 파악하는거다. 이렇게 DBMS가 어떤거인지 유추한다.

그리고 해커가 이 테이블이 뭐가 있는지 모르겠는데 혹시 내가 생각하는 table이 있나 물어본다. 그래서 만약에 sleep을 한다라고 하면??!!

테이블을 뒤져봤기때문에 sleep을 하는거다. 참고로 여기서 sleep의 의미는 매 레코드마다 sleep한번하고 그다음 레코드하고 또 sleep한다라는 의미다.



SQL injection Attack을 보고나서의 교훈.

==> 우리가 사용자에게 받아들이는것은 SQL sequence와 같이 내 Query문을 깨뜨릴수있는 문자가 들어올 경우에는 

**string으로 제대로 처리를 하게 해줘야 한다.(이런식으로 제대로된 파싱을 처음에 해야한다. 여러가지 케이스를 다 살펴봐서 내 쿼리문이 깨져서 시스템에러가 해커쪽으로 반환되는 상황자체를 만들지말자!!)**

여기 1시20분전부분 근처부터 수업듣기!! 필기안했음!!!!!!!!

그리고 668~669페이지 다음시간까지 미리 읽어오라고 말씀하심.

![201201_2](.\201201화요일\201201_2.jpg)



### 시험진도설명

JDBC시험 포함임.(조교가 안내한 내용들 전부다.)

jdbc가 뭐하는놈인가?

스프링도 개념적인 부분은 알고있어야함

정규화,인덱싱이런거는 책으로보면 오히려 헷갈릴수있으니 수업위주로 제대로 보기.

챕터2,3,4(관계대수),5(SQL문법을 자세히봤기떄문에 응용을 많이 낼듯. trigger이런거는 개념적으로 물을꺼임), 데이터응용개발에서 jdbc과제

인터넷응용(직접과제로 수행하는게 중요함),

데이터베이스에 접근하게 할수있는 함수가 구현된 라이브러리 이름이 뭐냐?==>????? (자바로 구현된 라이브러리라고 하면jdbc겠지)

요즘 백앤드가 어떻게 구성되냐면 마이크로아키텍쳐로 구성된다. 마이크로아키텍쳐가 뭐냐면 작은단위의 서비스를 컨테이너에 올려서 배포하는 체계(이게 요즘 추세). 그래서 컨테이너를 배우는거다.

챕터8. 저장장치와 인덱싱개론단원

+ 해쉬,heap파일,sorted파일,B+트리(우리가 트리구조인덱스에서 319페이지에서 10-3인 B+트리의 동적인덱스구조=> 탐색과 삽입,삭제. 여기까지만 보면될꺼같다.)+트리구조의 인덱싱은 찬찬히 이 내용들의 예제를 잘 보자!
+ 인덱스순차접근 방식인 아이쎼...? 는 볼필요없다!!!!
+ B+트리를 잘보자!! 10-3,10-4,10-5 여기서 탐색과 삽입,삭제되는 요 예제를 잘보자. 그리고 삭제와 관련해서는 부연설명해서 게시판에 올림.

디스크파일에서는 디스크의 물리적인 구조를 잘보자!!(트랙,블록하고 이런것들+어디가 트랙이고 블록인지) + 다른것은 볼필요없다. 레코드포맷?, 페이지??이런거 볼필요 없다.

해시도 말씀 드렸는데 B+트리기반의 인덱스와 해시기반의 인덱스가 있을때 장단점이 뭔지 알기!!

+ B+트리는 리프노드가 더블링크리스트로 정렬이 되어있따. 그래서 찾아들어가서 range query??을 하기 편한 반면에
+ 해시로 하면은 단일레코드에서 찾는거는 빠르겠찌만 range query(범위쿼리)를 하기가 어렵다. 왜냐하면 정렬이 안되어있기떄문이다.( 이런 장단점을 알자!!)

챕터8에서 

★인터넷응용, 데이터베이스응용인것들, 예를들어 c로 짜는것들 이런거는 보지말아라!!!!!!!

6번,7번의 내용들은 조교한테 전달된 컨테이너,jdbc,스크린 여기에있는내용들을 개념적으로 이해하고있는게 중요!!(과제를 못마치더라도 뭘해야되는지는 아는정도로 시험문제가 나올꺼다!!!!!) 

트랜잭션내용(큐앤에이에 있음)은 병행성에 대해서 말했었다.

예> 병행처리했을때의 문제점 : 부부공동계좌 이런얘기들, 이외에도 블록체인이라던지 CAP이론,케프띠어렐...? 이런것들을 NOSQL을 다루면서 배웠따.(책에 있는내용이 아니지만무조건 나온다!!)

챕터19.의 스키마정제와 정규화에서 p573에 있는 내용은 교수님이 쭉 슬라이드로 정리해서 준거다. 만약에 573페이지그대로 이걸 소화하려면은 어려울것이다. 그래서 교수님이 설명하신 예제위주와 규칙들 이런걸 잘 기억하자!!

챕터21.보안과 권한은 12/4일날 마무리 지을것이다!!

